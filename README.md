# ğŸ¦¾ ELK-Project

## ğŸ“ ì†Œê°œ

<br>

âœ… ë³¸ í”„ë¡œì íŠ¸ëŠ” `Spring Boot`ì—ì„œ ë¡œê·¸ë¥¼ ë°œìƒì‹œí‚¤ê³ , `JMeter`ë¡œ ë¶€í•˜ íŠ¸ë˜í”½ì„ ìƒì„±í•œ í›„, <br>
`Filebeat â†’ Logstash â†’ Elasticsearch â†’ Kibana`ë¡œ ì´ì–´ì§€ëŠ”<br>
**ì—”ë“œ-íˆ¬-ì—”ë“œ ë¡œê·¸ íŒŒì´í”„ë¼ì¸**ì„ êµ¬í˜„í•œ ì‹¤ìŠµí˜• í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. 
<br> <br>
âœ… JSON ê¸°ë°˜ ë¡œê·¸ë¥¼ ìˆ˜ì§‘í•˜ì—¬ **êµ­ê°€ë³„, ì‹œê°„ëŒ€ë³„, ì‹¤íŒ¨ ì‚¬ìœ ë³„ ê³µê²© ì¶”ì´ ë¶„ì„**ê¹Œì§€ ì§ì ‘ ì‹œê°í™”í•˜ë©°, ìš´ì˜í™˜ê²½ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê²½í—˜ë„ í•¨ê»˜ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.
<br>
<br>

---

| ê°•í•œì†” | ì´ì œí˜„ | ì „ìˆ˜ë¯¼ | í™©ë³‘ê¸¸ |
|:---:|:---:|:---:|:---:|
| [kkangsol](https://github.com/kkangsol) | [lyjh98](https://github.com/lyjh98) | [Jsumin07](https://github.com/Jsumin07) | [Gill010147](https://github.com/Gill010147) |
| <img src="https://avatars.githubusercontent.com/kkangsol" width="150px;"> | <img src="https://avatars.githubusercontent.com/lyjh98" width="150px;"> | <img src="https://avatars.githubusercontent.com/Jsumin07" width="150px;"> | <img src="https://avatars.githubusercontent.com/Gill010147" width="150px;"> |






---

## ğŸ¬ ë©”ì¸ ì‹œë‚˜ë¦¬ì˜¤

<img src="https://github.com/user-attachments/assets/66ca00aa-fba1-4be5-960f-1c636d99d228" width="860" height="456" />

---

## ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ
<br>
- âœ… ë¡œê·¸ ë¶„ì„ ì‹œìŠ¤í…œ êµ¬ì¶•ì˜ ì „ ê³¼ì •ì„ ì‹¤ë¬´ íë¦„ëŒ€ë¡œ êµ¬í˜„ <br><br>
- âœ… JMeter ê¸°ë°˜ì˜ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ ìƒì„± â†’ êµ¬ì¡°í™”ëœ JSON ë¡œê·¸ ìˆ˜ì§‘   <br><br>
- âœ… Filebeat â†’ Logstash â†’ Elasticsearch â†’ Kibanaë¡œ ì´ì–´ì§€ëŠ” ìˆ˜ì§‘/ìƒ‰ì¸/ì‹œê°í™” íŒŒì´í”„ë¼ì¸ ê²€ì¦   <br><br>
- âœ… ê³µê²© íŒ¨í„´, ì‹œê°„ëŒ€, êµ­ê°€ë³„ ì´ìƒ ë¡œê·¸ ë¶„í¬ ì‹œê°í™”ë¡œ ì¸ì‚¬ì´íŠ¸ ë„ì¶œ <br><br>

---
## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ
![Filebeat](https://img.shields.io/badge/Filebeat-005571?style=flat&logo=elastic&logoColor=white)
![Logstash](https://img.shields.io/badge/Logstash-005571?style=flat&logo=elastic&logoColor=white)
![Elasticsearch](https://img.shields.io/badge/Elasticsearch-005571?style=flat&logo=elasticsearch&logoColor=white)
![Kibana](https://img.shields.io/badge/Kibana-005571?style=flat&logo=kibana&logoColor=white)
![Spring Boot](https://img.shields.io/badge/Spring_Boot-6DB33F?style=flat&logo=springboot&logoColor=white)
![JMeter](https://img.shields.io/badge/JMeter-D22128?style=flat&logo=apachejmeter&logoColor=white)
![Eclipse](https://img.shields.io/badge/Eclipse-2C2255?style=flat&logo=eclipseide&logoColor=white)
![ChatGPT](https://img.shields.io/badge/ChatGPT-41B06E?style=flat&logo=openai&logoColor=white)
![Lombok](https://img.shields.io/badge/Lombok-ED6C30?style=flat&logo=lombok&logoColor=white)


## ğŸ“‹ ì£¼ìš” ê¸°ìˆ  ë° ë²„ì „
| ëª©ì  | ê¸°ëŠ¥ | ë²„ì „ |
|---|---|---|
| ğŸ” ë¡œê·¸ ìˆ˜ì§‘ | Filebeat | 7.11.2 |
| âš¡ ë°ì´í„° ê°€ê³µ | Logstash | 7.11.2 |
| ğŸ’¾ ì €ì¥/ê²€ìƒ‰ | Elasticsearch | 7.11.2 |
| ğŸ“Š ì‹œê°í™” | Kibana | 7.11.2 |
| ğŸŒ API/ë°ì´í„° | Spring Boot | 3.5.3 |
| ğŸš€ ë¶€í•˜ìƒì„± | JMeter | 5.6.3 |

---
## âš™ï¸ í”„ë¡œì íŠ¸ ë‚´ìš©

### ğŸ“Œ Spring Boot

<details>
<summary><strong> ì‚¬ìš©ì ë¡œê·¸ì¸ ìš”ì²­ ìˆ˜ì‹  í›„ DTO ê¸°ë°˜ ë¡œê·¸ ìƒì„±</strong></summary>


```
package com.example.loginlog.dto;

import lombok.Data;

@Data	//	Getter, Setter, toString ë“± í•„ìš”í•œ lombokìƒì„±
public class LoginRequest {
	
    private String email = "ian.lee@celebritymail.com";	// ì´ë©”ì¼ ê³ ì •
    private String password;	//íŒ¨ìŠ¤ì›Œë“œ	
    private String country;		//ì ‘ì† ì‹œë„ ë‚˜ë¼
    private String timestamp;		//ì ‘ì† ì‹œë„ ì‹œê°„
    private boolean success;	//ì„±ê³µ ì‹¤íŒ¨
    private String failureReason;	//ì‹¤íŒ¨ ì´ìœ 

}
```

</details>


<details>

<summary><strong> ì„±ê³µ/ì‹¤íŒ¨ ì‹œ ë¡œê·¸ í˜•íƒœ êµ¬ë¶„í•˜ì—¬ JSON ë¡œê·¸ ê¸°ë¡</strong></summary>


```
package com.example.loginlog.controller;

import org.springframework.web.bind.annotation.RestController;

import com.example.loginlog.dto.LoginRequest;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.http.*;
import org.springframework.web.bind.annotation.*;

@RestController	// ì´ í´ë˜ìŠ¤ê°€ HTTP ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì„ì„ ëª…ì‹œ
public class LoginController {
	
	// ë¡œê·¸ ì°ê¸° ìœ„í•œ Loggerê°ì²´ ìƒì„±
	private static final Logger logger = LoggerFactory.getLogger(LoginController.class);
	
	// HTTP POST ìš”ì²­ì„ /login ê²½ë¡œì—ì„œ ë°›ì„ ë•Œ í•´ë‹¹ ë©”ì„œë“œ ì‹¤í–‰
	@PostMapping("/login")
	// ìš”ì²­ ë³¸ë¬¸ì— JSONìœ¼ë¡œ ë°ì´í„°ê°€ ë“¤ì–´ì˜¤ëŠ”ë°, ì´ ë°ì´í„°ë¥¼ LoginReequest ê°ì²´ë¡œ ë°”ì¸ë”©
	public ResponseEntity<String> login(@RequestBody LoginRequest request){
		
		if(request.isSuccess()) {
			// ì„±ê³µ ë¡œê·¸
			logger.info("LOGIN_SUCCESS - password={}, country={}, timestamp={}, success={}",
					request.getPassword(),
					request.getCountry(),
					request.getTimestamp(),
					request.isSuccess());
			// ResponseEntity : ì‘ë‹µì½”ë“œê¹Œì§€ ë³´ë‚¼ ìˆ˜ ìˆëŠ” Spring-web ë¼ì´ë¸ŒëŸ¬ë¦¬
			return ResponseEntity.ok("ë¡œê·¸ì¸ ì„±ê³µ");
		}else {
			// ì‹¤íŒ¨ ë¡œê·¸
			logger.warn("LOGIN_FAILED - password={}, country={}, timestamp={}, success={}, failureReason={}",
			        request.getPassword(),
			        request.getCountry(),
			        request.getTimestamp(),
			        request.isSuccess(),
			        request.getFailureReason());
			// HTTP 401(ì¸ì¦ ì‹¤íŒ¨/HttpStatus.UNAUTHORIZED) ì‘ë‹µ ë°˜í™˜ (ë¡œê·¸ì¸ì‹¤íŒ¨)
			return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body("ë¡œê·¸ì¸ ì‹¤íŒ¨");
			
		}
	}
	
}
```

</details>


<summary><strong>ğŸ“Œ JMeter</strong></summary>

- ë‹¤ì–‘í•œ êµ­ê°€, IP, ì‹œê°„ëŒ€ì— ëŒ€í•œ ë¶€í•˜ ì‹œë‚˜ë¦¬ì˜¤ ì„¤ê³„   <br>
- CSV ê¸°ë°˜ 10,000ê±´ ì´ìƒ ë¡œê·¸ì¸ ì‹œë„ ì‹œë®¬ë ˆì´ì…˜ <br>



<details>
<summary><strong>ğŸ“Œ Filebeat â†’ Logstash</strong></summary>

- Filebeatë¡œ ë¡œê·¸ ìˆ˜ì§‘   <br>
- Logstashì—ì„œ grok, mutate, date í•„í„° ì‚¬ìš©í•´ JSON ë¡œê·¸ íŒŒì‹±  <br>
- `start_position`, `sincedb_path`ë¡œ ìˆ˜ì§‘ ë²”ìœ„ ì œì–´ <br>

</details>

<details>
<summary><strong>ğŸ“Œ Elasticsearch</strong></summary>

- íŒŒì‹±ëœ ë¡œê·¸ë¥¼ Elasticsearchì— ìƒ‰ì¸  <br>
- ê²€ìƒ‰, í•„í„°ë§, ì¿¼ë¦¬ë¥¼ í†µí•´ êµ­ê°€ë³„Â·ì‹œê°„ëŒ€ë³„ ë¶„ì„ ìˆ˜í–‰ <br>

</details>

<details>
<summary><strong>ğŸ“Œ Kibana</strong></summary>

- ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•  <br>
- êµ­ê°€ë³„ ì‹¤íŒ¨ ë¹„ìœ¨, ì‹œê°„ëŒ€ë³„ ê³µê²© ì§‘ì¤‘ë„, ì‹¤íŒ¨ ì‚¬ìœ  ë¶„ì„ ë“± ì‹œê°í™” <br>

</details>

---

## ğŸ›  íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ëª¨ìŒ

### âœ… CSV boolean íŒŒì‹± ì˜¤ë¥˜
- `"True"` / `"False"` ëŒ€ë¬¸ì ê°’ì´ DBì—ì„œ boolean ì¸ì‹ ì‹¤íŒ¨  
- â†’ `"1"` / `"0"`ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ í•´ê²° (ì‚¬ì „ ì „ì²˜ë¦¬ or SQL SET êµ¬ë¬¸ ì‚¬ìš©)

### âœ… JMeter ì‹¤í–‰ ì‹œê°„ ë¶€ì¡±
- Duration ì„¤ì •ì´ ì§§ì•„ ì¼ë¶€ íŠ¸ë˜í”½ë§Œ ì „ì†¡ë¨  
- â†’ Duration/Loop Count ì¶©ë¶„íˆ ì¦ê°€ì‹œì¼œ ì „ì²´ ë°ì´í„° ë°˜ì˜ë˜ë„ë¡ ìˆ˜ì •

### âœ… Logstash ê²½ë¡œ ì„¤ì • ì´ìŠˆ
- íŒ€ì› ê°„ ë¡œê·¸ íŒŒì¼ ê²½ë¡œê°€ ë‹¬ë¼ ì‹¤í–‰ ì˜¤ë¥˜ ë°œìƒ  
- â†’ ê³µí†µ ê²½ë¡œ í†µì¼ ë° `.conf` íŒŒì¼ ë‚´ ì£¼ì„ìœ¼ë¡œ ì£¼ì˜ì‚¬í•­ ëª…ì‹œ

### âœ… Elasticsearch ì¸ë±ìŠ¤ ì¤‘ë³µ ë¬¸ì œ
- ê¸°ì¡´ ì¸ë±ìŠ¤ê°€ ë‚¨ì•„ìˆì–´ ë¡œê·¸ ì¬ìˆ˜ì§‘ ì•ˆ ë¨  
- â†’ `sincedb_path => "NUL"` ì„¤ì • or ë¡œê·¸ íŒŒì¼ëª… ë³€ê²½ or ì¸ë±ìŠ¤ ì‚­ì œë¡œ í•´ê²°

---

## ğŸ“Š Kibana ì‹œê°í™” ë‚´ìš©

| ì‹œê°í™” í•­ëª© | ì„¤ëª… |
|------------|------|
| ğŸ“… ì‹œê°„ëŒ€ë³„ ì‹¤íŒ¨ ë¡œê·¸ | ìƒˆë²½ ì‹œê°„ëŒ€ ì§‘ì¤‘ ê³µê²© ì—¬ë¶€ ë¶„ì„ |
| ğŸŒ êµ­ê°€ë³„ ì‹¤íŒ¨ ë¶„í¬ | íŠ¹ì • êµ­ê°€(ì¤‘êµ­, ëŸ¬ì‹œì•„ ë“±) ì¤‘ì‹¬ ê³µê²© ì¶”ì • |
| â— ì‹¤íŒ¨ ì‚¬ìœ  ë¶„ì„ | ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸, ê³„ì • ì—†ìŒ, ì ê¸ˆ ê³„ì • ë“± |
| ğŸ“ˆ ì „ì²´ íŠ¸ë Œë“œ | ì‹œê°„ íë¦„ì— ë”°ë¥¸ ê³µê²© ì‹œë„ íŒ¨í„´ ì¶”ì´ |

---

## ğŸš€ í–¥í›„ ë°œì „ ë°©í–¥ (Develop Direction)

- âœ… ë”ë¯¸ë°ì´í„° ëŒ€ì‹  **ì‹¤ì œ ë¡œê·¸ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹œë®¬ë ˆì´ì…˜**í•˜ì—¬ ë¶„ì„ì˜ í˜„ì‹¤ì„± í–¥ìƒ <br>
- âœ… ìµœì‹  Kibana ê¸°ëŠ¥(Lens, Canvas ë“±)ì„ í™œìš©í•œ **ê³ ê¸‰ ëŒ€ì‹œë³´ë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ë° ì•Œë¦¼ ê¸°ëŠ¥ êµ¬í˜„** <br>
- âœ… ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ íƒì§€ ëª¨ë¸ê³¼ ì—°ë™í•˜ì—¬ **ì´ìƒ í–‰ìœ„ íƒì§€ ìë™í™” ë° ì‹¤ì‹œê°„ ëŒ€ì‘ ì²´ê³„ êµ¬ì¶•** <br>
- âœ… **Slack / Email ë“± ì•Œë¦¼ ì‹œìŠ¤í…œê³¼ì˜ ì—°ë™**ì„ í†µí•´ ì‹¤íŒ¨ìœ¨ ê¸‰ì¦ ë“± ì´ìƒ ìƒí™©ì— ì¦‰ì‹œ ëŒ€ì‘ <br>
- âœ… **í´ë¼ìš°ë“œ ê¸°ë°˜ ê³ ê°€ìš©ì„± ì•„í‚¤í…ì²˜ ì„¤ê³„**ë¥¼ í†µí•´ í™•ì¥ì„±ê³¼ ì•ˆì •ì„±ì„ ê°–ì¶˜ ELK í™˜ê²½ êµ¬ì„± <br>


---

## ğŸ““ íšŒê³ 

### ğŸ‘¤ ê°•í•œì†”
- (ì‘ì„± ì˜ˆì •)

### ğŸ‘¤ ì´ì œí˜„
- (ì‘ì„± ì˜ˆì •)

### ğŸ‘¤ ì „ìˆ˜ë¯¼
- (ì‘ì„± ì˜ˆì •)

### ğŸ‘¤ í™©ë³‘ê¸¸
- (ì‘ì„± ì˜ˆì •)
